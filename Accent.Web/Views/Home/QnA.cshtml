@{
    ViewBag.Title = "QnA";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .list-group-item {
    position: relative;
    display: block;
    padding: 16px 20px;
    margin-bottom: -1px;
    border: 1px solid #e6e6f2;
    text-align: justify;
}


    /*pagintation*/
    /*
Hi! If my code is useful for you can you donate me some money? 
https://www.paypal.me/melnik909
*/

/*
=====
LEVEL 0. RESET BROWSER'S STYLES
=====
*/

.pagination__list{
  padding-left: 0;
  margin-top: 0;
  margin-bottom: 0;
  list-style: none;  
}

/*
=====
LEVEL 1. CORE COMPONENT STYLES
=====
*/

.pagination{
  height:35px;
  font-size: 13px;
}

.pagination__list{
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
}

.pagination__item:not(.pagination__control_prev):not(.pagination__item_active){
  padding-left: .5em;
}

.pagination__item:not(.pagination__control_next):not(.pagination__item_active){
  padding-right: .5em;
}

.pagination__item{
  display: inline-block;
  line-height: 1;
}

.pagination__control{
  position: relative;
}

.pagination__control:before, .pagination__control:after{
  font-size: 12px;
  line-height: 1;
  
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}

.pagination__control_prev{
  padding-left: calc(22px + 5px);
}

.pagination__control_prev:before{
  content: "←";
  left: 0;
}

.pagination__control_next{
  padding-right: calc(22px + 5px);
}

.pagination__control_next:after{
  content: "→";
  right: 0;
}

.pagination__item_active{
  padding: .5875em .8em;
  margin-right: .5em;
  margin-left: .5em;
}

</style>
<!-- ============================================================== -->
<!-- pageheader -->
<!-- ============================================================== -->
<div class="row">
    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 pageheader-title p-t-20">
        <div class="d-flex">
            <h5 class="pageheader-title">myapplication phapluat-bot </h5>

            <div class="toolbar ml-auto p-r-10">
                <a href="#" class="btn btn-success btn-sm "><i class="fas fa-sync-alt"></i> Save and retrain</a>
                <a href="#" class="btn btn-primary btn-sm"><i class="fas fa-upload"></i> Publish</a>
            </div>
        </div>
        <div class="d-flex">
            <p style="font-size:13pt;padding-left:20px;color:darkblue;text-decoration:underline" id="search-label" for="search-terms"><i class="fas fa-search"></i> Test search</p>
            <div class="ml-auto" style="font-size:13px;padding-right:100px">Retrained 2 phút trước</div>
        </div>
    </div>
</div>
<div id="searchcontainer">
    <form id="search" action="#" method="post">
        <textarea type="text" name="search-terms" id="search-terms" placeholder="Tìm kiếm..."></textarea>
        <a class="close-form-search"></a>
        <div jscontroller="tg8oTe" class="UUbT9" style="" jsname="UUbT9" jsaction="h5M12e;mouseover:IgJl9c;mouseout:ItzDCd;mouseleave:MWfikb;YMFC3:VKssTb">
            @*display:none*@
            <div class="RjPuVb" jsname="RjPuVb" style="display: none; width: 0px;">
            </div>
            <div class="aajZCb" jsname="aajZCb">
                <ul class="erkvQe" jsname="erkvQe" role="listbox">
                    <li data-view-type="1" class="sbct" role="presentation" jsaction="touchstart:.CLIENT;touchend:.CLIENT;touchcancel:.CLIENT;touchmove:.CLIENT;contextmenu:.CLIENT">
                        <div class="suggestions-inner-container">
                            <div class="sbtc" role="option">
                                <div class="sbl1 sbl1p">
                                    <span>elasticsearch 5<b>.</b>6<b>.</b>5<b> vs 5.4.1</b></span>
                                </div>
                            </div>
                            <div class="sbab" jsaction="click:.CLIENT;contextmenu:.CLIENT">
                                <div class="sbai sbdb">Xóa</div>
                            </div>
                        </div>
                    </li>
                    <li data-view-type="1" class="sbct" role="presentation" jsaction="touchstart:.CLIENT;touchend:.CLIENT;touchcancel:.CLIENT;touchmove:.CLIENT;contextmenu:.CLIENT">
                        <div class="suggestions-inner-container">
                            <div class="sbtc" role="option">
                                <div class="sbl1"><span>elasticsearch 5<b>.</b>6<b>.</b>5</span></div>
                            </div>
                            <div class="sbab" style="display: none;"><div class="sbai">Xóa</div></div>
                        </div>
                    </li>
                    <li data-view-type="1" class="sbct" role="presentation" jsaction="touchstart:.CLIENT;touchend:.CLIENT;touchcancel:.CLIENT;touchmove:.CLIENT;contextmenu:.CLIENT">
                        <div class="suggestions-inner-container">
                            <div class="sbtc" role="option">
                                <div class="sbl1">
                                    <span>elasticsearch 5<b>.</b>5 5<b>.</b>6</span>
                                </div>
                            </div>
                            <div class="sbab" style="display: none;"><div class="sbai">Xóa</div></div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </form>
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8 col-sm-12 col-12">
            <div class="card">
                @*<h5 class="card-header">Danh sách tìm kiếm</h5>*@
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Thuế suất thuế GTGT đối với lượng nhiên liệu còn tồn trên tàu khi bàn giao cho người thuê tàu tại các cảng nước ngoài?</li>
                        <li class="list-group-item">Giải đáp vướng mắc trong hoàn thuế GTGT của Công ty CP PPI?</li>
                        <li class="list-group-item">Chính sách thuế GTGT đối với dịch vụ tiêm vắc xin?</li>
                        <li class="list-group-item">Kê khai, nộp thuế GTGT đối với hoạt động kinh doanh LPG và condensate sản xuất tại Nhà máy chế biến khí Cà Mau?</li>
                        <li class="list-group-item">Về việc khấu trừ thuế GTGT đã nộp thay cho nhà thầu nước ngoài?</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-2"></div>
    </div>   
</div>
<!-- ============================================================== -->
<!-- end pageheader -->
<!-- ============================================================== -->

<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
    <div class="card">
        <div class="card-header" style="background-color:lightgray">
            <div class="row">
                <div class="col-lg-6">
                    <p>KNOWLEDGE BASE | 2 QnA pairs</p>
                </div>
                <div class="col-lg-6">
                    <a href="#" style="float:right;" data-toggle="modal" data-target="#exampleModal"><i class="fa fa-upload"></i>Import Excel</a>
                    <a href="#" style="float:right;margin-right:10px" data-toggle="modal" data-target="#exampleModal"><i class="fa fa-plus-circle"></i>Add new QnA pair</a>
                </div>
                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="display: none;">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Add QnA Marker</h5>
                                <a href="#" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </a>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="form-group">
                                        <label for="exampleFormControlTextarea1">Question</label>
                                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="exampleFormControlTextarea1">Answer</label>
                                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <a href="#" class="btn btn-primary">Save changes</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="table-responsive ">
                <table class="table table-striped table-bordered table-sm" id="table-data">
                    <thead>
                        <tr>
                            <th scope="col" style="width:1%"></th>
                            <th scope="col" style="width:41%">Question</th>
                            <th scope="col" style="width:58%">Answer</th>
                        </tr>
                    </thead>
                    <tbody id="table-data-training">
                       
                    </tbody>
                </table>
            </div>
            <nav class="pagination pagination_type1">
                <ol class="pagination__list">
                    <li class="pagination__group"><a href="#0" class="pagination__item pagination__control pagination__control_prev">prev</a></li>
                    <li class="pagination__group"><a href="#0" class="pagination__item">1</a></li>
                    <li class="pagination__group"><span class="pagination__item pagination__item_active">2</span></li>
                    <li class="pagination__group"><a href="#0" class="pagination__item">3</a></li>
                    <li class="pagination__group"><a href="#0" class="pagination__item pagination__control pagination__control_next">next</a></li>
                </ol>
            </nav>
        </div>
    </div>
</div>
<script>
    var ismobile = navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i) != null
    var touchorclick = (ismobile) ? 'touchstart' : 'click'
    var searchcontainer = document.getElementById('searchcontainer')
    var searchfield = document.getElementById('search-terms')
    var searchlabel = document.getElementById('search-label')

    searchlabel.addEventListener(touchorclick, function (e) { // when user clicks on search label
        searchcontainer.classList.toggle('opensearch') // add or remove 'opensearch' to searchcontainer
        if (!searchcontainer.classList.contains('opensearch')) { // if hiding searchcontainer
            searchfield.blur() // blur search field
            e.preventDefault() // prevent default label behavior of focusing on search field again
        }
        e.stopPropagation() // stop event from bubbling upwards
    }, false)

    searchfield.addEventListener(touchorclick, function (e) { // when user clicks on search field
        e.stopPropagation() // stop event from bubbling upwards
    }, false)

    document.addEventListener(touchorclick, function (e) { // when user clicks anywhere in document
        if (e.target.className == "close-form-search") {
            searchcontainer.classList.remove('opensearch')
            searchfield.blur()
        }

    }, false)
</script>


<script>
    $(document).ready(function () {
        getDataTraining();

    })

    function renderTable(data) {
        var html = '';
        if (data.length != 0) {
            $.each(data, function (index, item) {
                index = index + 1;
                html += '<tr>';
                html += '<td>' + index + '</td>';
                html += '<td>' + item.Body + '</td>';
                html += '<td></td>';
                html += '</tr>';
            })
        }

        $("#table-data-training").empty().append(html);
    }

    function getDataTraining() {
        var param = {
            page: 0,
            pageSize: 10
        }
        param = JSON.stringify(param)
        $.ajax({
            url: _Host + 'api/GetAll',
            contentType: 'application/json; charset=utf-8',
            data: param,
            type: 'POST',
            success: function (result) {
                renderTable(result.Items);
            },
        });
    }
</script>